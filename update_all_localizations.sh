#!/bin/bash

echo "üîÑ T√ºm view dosyalarƒ±nƒ± g√ºncelliyorum..."

# Common replacements
declare -A replacements=(
    ["Text(\"ƒ∞ptal\")"]="Text(L.cancel)"
    ["Text(\"Tamam\")"]="Text(L.ok)"
    ["Text(\"Kaydet\")"]="Text(L.save)"
    ["Text(\"Sil\")"]="Text(L.delete)"
    ["Text(\"Kapat\")"]="Text(L.close)"
    ["Text(\"Geri\")"]="Text(L.back)"
    ["Text(\"ƒ∞leri\")"]="Text(L.next)"
    ["Text(\"Atla\")"]="Text(L.skip)"
    ["Text(\"Ba≈üla\")"]="Text(L.start)"
    ["Text(\"Olu≈ütur\")"]="Text(L.create)"
    ["Text(\"Y√ºkleniyor...\")"]="Text(L.loading)"
    ["Text(\"Yeni\")"]="Text(L.new)"
    ["Text(\"Pop√ºler\")"]="Text(L.popular)"
    ["Text(\"Sƒ±nƒ±rsƒ±z\")"]="Text(L.unlimited)"
    ["Text(\"Premium\")"]="Text(L.premium)"
    ["Text(\"Ana Sayfa\")"]="Text(L.home)"
    ["Text(\"K√ºt√ºphane\")"]="Text(L.library)"
    ["Text(\"Ayarlar\")"]="Text(L.settings)"
    ["Text(\"G√ºnl√ºk\")"]="Text(L.daily)"
    ["Text(\"G√∂rselli Hikaye\")"]="Text(L.illustratedStory)"
    ["Text(\"Metin Hikaye\")"]="Text(L.textStory)"
    ["Text(\"G√ºnl√ºk Hikaye\")"]="Text(L.dailyStory)"
    ["Text(\"Hikaye Olu≈ütur\")"]="Text(L.createStory)"
    ["Text(\"√áocuƒüun Adƒ±\")"]="Text(L.childName)"
    ["Text(\"Ya≈ü\")"]="Text(L.age)"
    ["Text(\"Cinsiyet\")"]="Text(L.gender)"
    ["Text(\"Erkek\")"]="Text(L.boy)"
    ["Text(\"Kƒ±z\")"]="Text(L.girl)"
    ["Text(\"Hikaye Temasƒ±\")"]="Text(L.storyTheme)"
    ["Text(\"Tema Se√ß\")"]="Text(L.selectTheme)"
    ["Text(\"Hen√ºz Hikaye Yok\")"]="Text(L.noStoriesInLibrary)"
    ["Text(\"Hikayeyi Sil\")"]="Text(L.deleteStory)"
    ["Text(\"Profil\")"]="Text(L.profile)"
    ["Text(\"Dil\")"]="Text(L.language)"
    ["Text(\"Bildirimler\")"]="Text(L.notifications)"
    ["Text(\"Hakkƒ±nda\")"]="Text(L.about)"
    ["Text(\"√ñnceki\")"]="Text(L.previous)"
    ["Text(\"Sonraki\")"]="Text(L.nextPage)"
    ["Text(\"Okuma ƒ∞pucu\")"]="Text(L.readingTip)"
    ["Text(\"Hikaye Kul√ºb√º\")"]="Text(L.storyClub)"
    ["Text(\"Kul√ºbe Katƒ±l\")"]="Text(L.joinClub)"
    ["Text(\"EN POP√úLER\")"]="Text(L.mostPopular)"
    ["Text(\"√úcretsiz Paket\")"]="Text(L.freePackage)"
    ["Text(\"ƒ∞sim\")"]="Text(L.name)"
    ["Text(\"Kategoriler\")"]="Text(L.categories)"
    ["Text(\"Men√º\")"]="Text(L.menu)"
    ["Text(\"Y√ºkselt\")"]="Text(L.upgrade)"
    ["Text(\"Okundu\")"]="Text(L.read)"
    ["Text(\"Premium √úye\")"]="Text(L.premium)"
    ["Text(\"√úcretsiz Deneme\")"]="Text(L.freeTrial)"
    ["Text(\"Kul√ºp √úyeliƒüi Gerekli\")"]="Text(L.clubMembershipRequired)"
    ["Text(\"G√ºn√ºn Hikayesi\")"]="Text(L.dailyStory)"
    ["Text(\"Hikayenin √ñƒüretisi\")"]="Text(L.storyLesson)"
    ["Text(\"√ñnizleme\")"]="Text(L.preview)"
    ["Text(\"Yazƒ± Boyutu\")"]="Text(L.textSize)"
    ["Text(\"Okuma Temasƒ±\")"]="Text(L.readingTheme)"
    ["Text(\"Satƒ±r Aralƒ±ƒüƒ±\")"]="Text(L.lineSpacing)"
    ["Text(\"Otomatik Oynat\")"]="Text(L.autoPlay)"
    ["Text(\"Y√ºksek Kontrast Aktif\")"]="Text(L.highContrastActive)"
    ["Text(\"Temel Bilgiler\")"]="Text(L.basicInfo)"
    ["Text(\"√áocuk Bilgileri\")"]="Text(L.childInfo)"
    ["Text(\"Hikaye Kategorisi\")"]="Text(L.storyCategory)"
)

# Apply replacements to all view files
for file in MagicPaper/Views/*.swift; do
    echo "üìù G√ºncelleniyor: $file"
    for search in "${!replacements[@]}"; do
        replacement="${replacements[$search]}"
        # Use perl for better regex support
        perl -i -pe "s/\Q$search\E/$replacement/g" "$file"
    done
done

echo "‚úÖ T√ºm dosyalar g√ºncellendi!"
echo ""
echo "Sonraki adƒ±m: Build et ve test et"
